<section class="p-a-3 p-a-1-m p-a-1-s p-t-8-s p-t-8-m vh-100-l vh-100-x fill-s fill-m"
         layout="column">
    <div layout-gt-xs="row"
         flex-gt-sm="15"
         flex-sm="10"
         layout-align-gt-xs="center center">
        <h2 class="font-2 fs-6 center"
            flex="grow"
            ng-bind="vm.edit ? 'Edit ' + vm.postType.title : 'Add new ' + vm.postType.title"></h2>
        <div layout="row"
             layout-align-xs="center center">
            <md-button class="md-primary"
                       ng-class="{'md-fab' : !vm.$mdMedia('xs'), 'md-raised' : vm.$mdMedia('xs'), 'busy col-t' : vm.actionStatus == 'save'}"
                       ng-click="vm.save($event)">Save</md-button>
            <md-button class="md-warn"
                       ng-if="vm.edit"
                       ng-class="{'md-fab' : !vm.$mdMedia('xs'), 'md-raised' : vm.$mdMedia('xs'), 'busy col-t' : vm.actionStatus == 'remove'}"
                       ng-click="vm.removeDialog($event)">Delete</md-button>
        </div>
    </div>
    <div class="m-t-2 m-t-4-x m-t-4-l overflow-auto pos-relative"
         id="scroll"
         flex-gt-sm="85"
         flex-sm="90"
         layout
         layout-align="center">
        <div flex="100"
             flex-gt-sm="60"
             layout="column"
             ng-form="post">
            <meta ng-init="vm.setForm(post)">
            <md-input-container>
                <label for="title">Title</label>
                <input id="title"
                       name="title"
                       type="text"
                       ng-model="vm.model.title"
                       required>
                <div ng-messages="vm.form.title.$error">
                    <div ng-message="required">This is required</div>
                </div>
            </md-input-container>
            <div class="m-b-8-s p-b-2-s m-b-8-m p-b-2-m">
                <h2 class="font-2 fs-4 center m-b-2">Fields</h2>
                <p ng-if="!vm.postType.fields.length"
                   class="center m-t-1">There are no fields yet</p>
                <div ng-if="::vm.postType.fields.length">
                    <field model="vm.model.data"
                           ng-repeat="field in ::vm.postType.fields track by field.id"
                           field="field"></field>
                </div>
            </div>
        </div>
    </div>
</section>